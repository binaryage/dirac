{"version":3,"file":"acorn-logical-assignment.mjs","sources":["../src/index.js"],"sourcesContent":["// eslint-disable-next-line node/no-unsupported-features/es-syntax\nexport default function logicalAssignment(Parser) {\n  const acorn = Parser.acorn || require(\"acorn\")\n  const tt = acorn.tokTypes\n  return class extends Parser {\n    // eslint-disable-next-line camelcase\n    readToken_pipe_amp(code) { // '|&'\n      let next = this.input.charCodeAt(this.pos + 1)\n      if (next === code) {\n        next = this.input.charCodeAt(this.pos + 2)\n        if (next === 61) return this.finishOp(tt.assign, 3)\n        return this.finishOp(code === 124 ? tt.logicalOR : tt.logicalAND, 2)\n      }\n      if (next === 61) return this.finishOp(tt.assign, 2)\n      return this.finishOp(code === 124 ? tt.bitwiseOR : tt.bitwiseAND, 1)\n    }\n\n    getTokenFromCode(code) {\n      return code == 63 ? this.readToken_question() : super.getTokenFromCode(code)\n    }\n\n    // eslint-disable-next-line camelcase\n    readToken_question() { // '?'\n      if (this.options.ecmaVersion >= 11) {\n        let next = this.input.charCodeAt(this.pos + 1)\n        if (next === 63) {\n          next = this.input.charCodeAt(this.pos + 2)\n          if (next === 61) return this.finishOp(tt.assign, 3)\n        }\n      }\n      return super.readToken_question ? super.readToken_question() : this.finishOp(tt.question, 1)\n    }\n  }\n}\n"],"names":[],"mappings":"AAAA;AACe,SAAS,iBAAiB,CAAC,MAAM,EAAE;AAClD,EAAE,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,IAAI,OAAO,CAAC,OAAO,EAAC;AAChD,EAAE,MAAM,EAAE,GAAG,KAAK,CAAC,SAAQ;AAC3B,EAAE,OAAO,cAAc,MAAM,CAAC;AAC9B;AACA,IAAI,kBAAkB,CAAC,IAAI,EAAE;AAC7B,MAAM,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,EAAC;AACpD,MAAM,IAAI,IAAI,KAAK,IAAI,EAAE;AACzB,QAAQ,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,EAAC;AAClD,QAAQ,IAAI,IAAI,KAAK,EAAE,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC;AAC3D,QAAQ,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,GAAG,GAAG,EAAE,CAAC,SAAS,GAAG,EAAE,CAAC,UAAU,EAAE,CAAC,CAAC;AAC5E,OAAO;AACP,MAAM,IAAI,IAAI,KAAK,EAAE,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC;AACzD,MAAM,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,GAAG,GAAG,EAAE,CAAC,SAAS,GAAG,EAAE,CAAC,UAAU,EAAE,CAAC,CAAC;AAC1E,KAAK;AACL;AACA,IAAI,gBAAgB,CAAC,IAAI,EAAE;AAC3B,MAAM,OAAO,IAAI,IAAI,EAAE,GAAG,IAAI,CAAC,kBAAkB,EAAE,GAAG,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC;AAClF,KAAK;AACL;AACA;AACA,IAAI,kBAAkB,GAAG;AACzB,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,IAAI,EAAE,EAAE;AAC1C,QAAQ,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,EAAC;AACtD,QAAQ,IAAI,IAAI,KAAK,EAAE,EAAE;AACzB,UAAU,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,EAAC;AACpD,UAAU,IAAI,IAAI,KAAK,EAAE,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC;AAC7D,SAAS;AACT,OAAO;AACP,MAAM,OAAO,KAAK,CAAC,kBAAkB,GAAG,KAAK,CAAC,kBAAkB,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;AAClG,KAAK;AACL,GAAG;AACH;;;;"}